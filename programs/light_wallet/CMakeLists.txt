project(LightWallet)

set(BINARY_NAME "LightWallet")
set(VERSION_MAJOR 0)
set(VERSION_MINOR 0)
set(VERSION_PATCH 1)

# Find includes in corresponding build directories
set(CMAKE_INCLUDE_CURRENT_DIR ON)
# Instruct CMake to run moc automatically when needed.
set(CMAKE_AUTOMOC ON)

# Configure the autogenerated .app bundle
if( APPLE )
    set( MACOSX_BUNDLE_BUNDLE_NAME "${BINARY_NAME}.app" )
    set( MACOSX_BUNDLE_EXECUTABLE_NAME ${BINARY_NAME} )
    set( MACOSX_BUNDLE_GUI_IDENTIFIER "com.nathanhourt.bts.light" )
    set( MACOSX_BUNDLE_INFO_STRING "BitShares Light Wallet - version ${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH}" )
    set( MACOSX_BUNDLE_SHORT_VERSION_STRING "${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH}" )
    set( MACOSX_BUNDLE_LONG_VERSION_STRING "${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH}" )
    set( MACOSX_BUNDLE_BUNDLE_VERSION "${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH}" )
    set( MACOSX_BUNDLE_COPYRIGHT "(C) 2014 God" )
endif()

find_package(Qt5Core)
add_definitions(-DQT_NO_KEYWORDS)

file(GLOB qml_files qml/*.qml)

add_executable(LightWallet WIN32 MACOSX_BUNDLE main.cpp LightWallet.cpp ${qml_files})
qt5_use_modules(LightWallet Quick Gui Qml)

target_link_libraries(LightWallet bts_light_wallet fc
   ${READLINE_LIBRARIES} ${CMAKE_DL_LIBS} ${PLATFORM_SPECIFIC_LIBS}
   ${crypto_library} ${CrashRpt_LIBRARIES} ${ZLIB_LIBRARY} upnpc-static)
